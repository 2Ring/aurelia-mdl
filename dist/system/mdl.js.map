{"version":3,"sources":["mdl.js"],"names":[],"mappings":"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","file":"mdl.js","sourcesContent":["import {inject, customAttribute} from 'aurelia-framework';\r\nimport {componentHandler} from 'encapsulated-mdl';\r\nimport {EventAggregator} from 'aurelia-event-aggregator';\r\n\r\nlet mdlTypes = {\r\n  badge: {\r\n    js: [],\r\n    html: ['mdl-badge'],\r\n    fct: []\r\n  },\r\n  button: {\r\n    html: ['mdl-button', 'mdl-js-button'],\r\n    js: ['MaterialButton'],\r\n    fct: [manageRipple]\r\n  },\r\n  card: {\r\n    js: [],\r\n    html: ['mdl-card'],\r\n    fct: []\r\n  },\r\n  checkbox: {\r\n    js: ['MaterialCheckbox'],\r\n    html: ['mdl-checkbox', 'mdl-js-checkbox'],\r\n    fct: [manageRipple]\r\n  },\r\n  chip: {\r\n    js: [],\r\n    html: ['mdl-chip'],\r\n    fct: []\r\n  },\r\n  'data-table': {\r\n    js: ['MaterialDataTable'],\r\n    html: ['mdl-data-table', 'mdl-js-data-table'],\r\n    fct: [manageRipple]\r\n  },\r\n  dialog: {\r\n    js: [],\r\n    html: ['mdl-dialog'],\r\n    fct: []\r\n  },\r\n  'mega-footer': {\r\n    js: [],\r\n    html: ['mdl-mega-footer'],\r\n    fct: []\r\n  },\r\n  'mini-footer': {\r\n    js: [],\r\n    html: ['mdl-mini-footer'],\r\n    fct: []\r\n  },\r\n  grid: {\r\n    js: [],\r\n    html: ['mdl-grid'],\r\n    fct: []\r\n  },\r\n  'icon-toggle': {\r\n    js: ['MaterialIconToggle'],\r\n    html: ['mdl-icon-toggle', 'mdl-js-icon-toggle'],\r\n    fct: [manageRipple]\r\n  },\r\n  layout: {\r\n    js: ['MaterialLayout'],\r\n    html: ['mdl-layout', 'mdl-js-layout'],\r\n    fct: [manageRipple]\r\n  },\r\n  list: {\r\n    js: [],\r\n    html: ['mdl-list'],\r\n    fct: []\r\n  },\r\n  menu: {\r\n    js: ['MaterialMenu'],\r\n    html: ['mdl-menu', 'mdl-js-menu'],\r\n    fct: [manageRipple]\r\n  },\r\n  progress: {\r\n    js: ['MaterialProgress'],\r\n    html: ['mdl-progress', 'mdl-js-progress'],\r\n    fct: []\r\n  },\r\n  radio: {\r\n    js: ['MaterialRadio'],\r\n    html: ['mdl-radio', 'mdl-js-radio'],\r\n    fct: [manageRipple]\r\n  },\r\n  slider: {\r\n    js: ['MaterialSlider'],\r\n    html: ['mdl-slider', 'mdl-js-slider'],\r\n    fct: []\r\n  },\r\n  snackbar: {\r\n    js: ['MaterialSnackbar'],\r\n    html: ['mdl-snackbar'],\r\n    fct: []\r\n  },\r\n  spinner: {\r\n    js: ['MaterialSpinner'],\r\n    html: ['mdl-spinner', 'mdl-js-spinner'],\r\n    fct: []\r\n  },\r\n  switch: {\r\n    js: ['MaterialSwitch'],\r\n    html: ['mdl-switch', 'mdl-js-switch'],\r\n    fct: [manageRipple]\r\n  },\r\n  tabs: {\r\n    js: ['MaterialTabs'],\r\n    html: ['mdl-tabs', 'mdl-js-tabs'],\r\n    fct: [manageRipple]\r\n  },\r\n  textfield: {\r\n    js: ['MaterialTextfield'],\r\n    html: ['mdl-textfield', 'mdl-js-textfield'],\r\n    fct: []\r\n  },\r\n  tooltip: {\r\n    js: ['MaterialTooltip'],\r\n    html: ['mdl-tooltip'],\r\n    fct: []\r\n  },\r\n\r\n  // Third party non official\r\n  selectfield: {\r\n    js: ['MaterialSelectfield'],\r\n    html: ['mdl-selectfield'],\r\n    fct: []\r\n  }\r\n};\r\n\r\nfunction manageRipple(element) {\r\n  if (element.classList.contains('mdl-js-ripple-effect')) {\r\n    componentHandler.upgradeElement(element, 'MaterialRipple');\r\n  }\r\n  /**\r\n   * Causes issues: upgrades nested elements that has mdl-js-ripple-effect class before the nested elements upgraded, marking them as\r\n   * MaterialRipple upgraded, when the nested elements upgraded, and ripple upgrade tries to take place, it doesn't because it is already\r\n   * marked as upgraded.\r\n   * eventually causing rippleElement to be null on MaterialRipple.\r\n   * NOTE: \"mdl-js-ripple-effect\" should be only on upgradable material elements, not on non material nested elements.\r\n  let elements = element.querySelectorAll('.mdl-js-ripple-effect');\r\n  for (let el of elements) {\r\n    componentHandler.upgradeElement(el, 'MaterialRipple');\r\n  }*/\r\n\r\n  /** Some of the elements do require upgrade of nested elements, to avoid issues we must handle it carefully\r\n   * NOTE: not sure about all the elements that require nested upgrading. Will add all the required when used and tested.\r\n   */\r\n  if (element.MaterialIconToggle || element.MaterialCheckbox) {\r\n    /* We need to upgrade immediate children only, no easy way to do it (for all browsers) */\r\n    let children = element.children;\r\n    if (children) {\r\n      for (let i = 0; i < children.length; i++) {\r\n        let child = children[i];\r\n        if (child.classList.contains('mdl-js-ripple-effect')) {\r\n          componentHandler.upgradeElement(child, 'MaterialRipple');\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nfunction upgradeElement(element, type) {\r\n  let {html, fct, js} = (mdlTypes[type] || {});\r\n  if (html) {\r\n    for (let h of html) {\r\n      element.classList.add(h);\r\n    }\r\n  }\r\n  for (let t of js) componentHandler.upgradeElement(element, t);\r\n  for (let f of fct) f(element);\r\n}\r\n\r\n@inject(Element, EventAggregator)\r\n@customAttribute('mdl')\r\nexport class MDLCustomAttribute {\r\n\r\n  constructor(element, eventAggregator) {\r\n    this.element = element;\r\n    this.eventAggregator = eventAggregator;\r\n  }\r\n\r\n  attached() {\r\n    //console.log(\"mdl attached: \" + this.value);\r\n    upgradeElement(this.element, this.value);\r\n    let payload = {publisher: this, data: this.element};\r\n    this.eventAggregator.publish('mdl:component:upgrade', payload);\r\n  }\r\n}\r\n"]}